var hero_aignacio=angular.module("superhero",["ui.bootstrap","ngRoute","controller_index","controller_login","directive_index","ui.validate"]);hero_aignacio.config(["$routeProvider","$locationProvider",function(e,r){e.when("/dash",{templateUrl:"views/pages/main.ejs",controller:""}).when("/users",{templateUrl:"views/pages/users.ejs",controller:""}).otherwise({redirectTo:"/dash",controller:""}),r.html5Mode({enabled:!0,requireBase:!1})}]);
var controller_index=angular.module("controller_index",["ui.bootstrap"]);controller_index.controller("ctrlIndex",["$scope","$http","$window","$location",function(o,t,l,n){t({method:"GET",url:"/info/application"}).then(function(t){o.applicationName=t.data.name},function(t){o.data=t.data||"Request failed",o.status=t.status,console.log(o.status)}),o["class"]="untoggled",o.toggleSideBar=function(){"untoggled"===o["class"]?o["class"]="toggled":o["class"]="untoggled"},o.user=l.user.split(" "),o.user=o.user[0],o.logout=function(){l.location.href="/logout"}}]);
var controller_login=angular.module("controller_login",["ui.bootstrap","angular-md5"]);controller_login.controller("loginForm",["$scope","md5","$http","$location","$window","$timeout",function(t,a,s,e,o,n){s({method:"GET",url:"/info/application"}).then(function(a){t.applicationName=a.data.name},function(a){t.data=a.data||"Request failed",t.status=a.status,console.log(t.status)}),t.redirect=function(t){o.location.href="/"+t},t.submitForm=function(){t.userForm.$valid&&(t.user.passwd=a.createHash(t.user.password),console.log(t.user.passwd),s({url:"/signup",method:"POST",data:t.user,headers:{"Content-Type":"application/json"}}).then(function(a){data=a.data,data.length>50?o.location.href="/login":t.status_register=String(data.status)},function(a){t.data=a.data||"Request failed",t.status=a.status}))},t.loginForm=function(){t.userForm.$valid&&(t.user.passwd=a.createHash(t.user.password),console.log(t.user.passwd),s({url:"/login",method:"POST",data:t.user,headers:{"Content-Type":"application/json"}}).then(function(a){data=a.data,data.length>50?o.location.href="/main":t.status_login=String(data.status)},function(a){t.data=a.data||"Request failed",t.status=a.status}))},t.recoverForm=function(){t.userForm.$valid&&s({url:"/recover",method:"POST",data:t.user,headers:{"Content-Type":"application/json"}}).then(function(a){data=a.data,"success"==data.status?(t.userForm.$valid=!1,t.sent="disabled",t.status_recover_fail="",t.status_recover_success=String(data.info),time=n(function(){o.location.href="/pass_rec"},2e3)):(t.status_recover_success="",t.status_recover_fail=String(data.info))},function(a){t.data=a.data||"Request failed",t.status=a.status})},t.passForm=function(){t.userForm.$valid&&(t.user.passwd=a.createHash(t.user.password),s({url:"/change_pass",method:"POST",data:t.user,headers:{"Content-Type":"application/json"}}).then(function(a){data=a.data,"success"==data.status?(t.userForm.$valid=!1,t.sent="disabled",t.status_recover_fail="",t.status_recover_success=String(data.info),time=n(function(){o.location.href="/login"},2e3)):(t.status_recover_success="",t.status_recover_fail=String(data.info))},function(a){t.data=a.data||"Request failed",t.status=a.status}))}}]);
var directive_login=angular.module("directive_index",[]);